<div class="container creation-form">
  <form [formGroup]="form" (ngSubmit)="submitPost()">
    <div class="form-title">
      <h2>Title*:</h2>
      <input
        formControlName="title"
        id="title"
        type="text"
        placeholder="Type your post title"
      >
    <small [style.visibility]="titleError ? 'visible' : 'hidden'">{{ titleError }}</small>
    </div>
    <div class="form-content">
      <h2>Content*:</h2>
      <ckeditor
        [editor]="Editor"
        formControlName="content"
        [config]="{
          placeholder: 'Type your blog post...',
          toolbar: ['heading', '|', 'bold', 'italic', 'link', 'bulletedList', 'numberedList', 'blockQuote'],
          }"
        ></ckeditor>
      <small [style.visibility]="contentError ? 'visible' : 'hidden'"> {{ contentError }}</small>
    </div>
    <div class="form-permissions">
      <div class="title">
        <h2>Permissions</h2>
      </div>
      <table>
        <thead>
          <tr>
            <th>Category</th>
            <th>Access</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Public</td>
            <td>
              <select formControlName="publicPermission" id="publicPermission">
              @for (option of publicPermissionOptions; track $index) {
                <option [value]="option.key">{{option.label}}</option>
              }
            </select>
            </td>
          </tr>
          <tr>
            <td>Authenticated</td>
            <td>
              <select formControlName="authenticatedPermission" id="authenticatedPermission">
              @for (option of permissionOptions; track $index) {
                <option [value]="option.key">{{option.label}}</option>
              }
            </select>
            </td>
          </tr>
          <tr>
            <td>Team</td>
            <td>
              <select formControlName="teamPermission" id="teamPermission">
              @for (option of permissionOptions; track $index) {
                <option [value]="option.key">{{option.label}}</option>
              }
            </select>
            </td>
          </tr>
          <tr>
            <td>Author</td>
            <td>
              <select formControlName="authorPermission" id="authorPermission">
                <option [value]="permissionOptions[2].key">{{permissionOptions[2].label}}</option>
            </select>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="buttons">
      <button type="submit" [disabled]="isSubmitting">{{ submitButtonName }}</button>
      <button type="button" class="cancel-button" (click)="onCancel()">Cancel</button>
    </div>
  </form>
</div>
